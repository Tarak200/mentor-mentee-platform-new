    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Mentor Dashboard - Expert Mentoring Platform</title>
        <link rel="stylesheet" href="/components/shared/shared.css?v=20250921">
        <link rel="stylesheet" href="/components/mentor/dashboard/mentor-dashboard.css?v=20250921">

        <!-- Inline CSS to test if external CSS is loading -->
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
        
    </head>
    <body class="mentor-body">
        <div class="mentor-dashboard">
            <!-- Enhanced Top Navigation Bar -->
            <header class="mentor-header">
                <div class="logo-section">
                    <i class="fas fa-chalkboard-teacher"></i>
                    <h2>MentorPro</h2>
                </div>
                
                <div class="header-center">
                    <div class="welcome-message">
                        <h3>Hello, <span id="userName">Loading...</span>! ðŸ‘‹</h3>
                        <p>Ready to inspire minds today?</p>
                    </div>
                </div>
                
                <div class="header-right">
                    <div class="header-actions">
                        <button class="header-btn" onclick="showCustomerCare()" title="Customer Care">
                            <i class="fas fa-headset"></i>
                        </button>
                        <!-- Notification Bell Button -->
                        <button class="header-btn notif-btn" onclick="openNotificationModal()" title="Notifications">
                            <i class="fas fa-bell"></i>
                            <span class="notif-badge" id="notificationBadge">3</span>
                        </button>

                        <div class="user-profile">
                            <img id="profilePic" class="profile-avatar" src="backend/uploads/default.jpg" alt="Profile">
                            <div class="profile-dropdown">
                                <button class="profile-btn" onclick="setupProfileDropdown()">
                                    <span id="userNameShort">Me</span>
                                    <i class="fas fa-chevron-down"></i>
                                </button>
                                <div id="profileMenu" class="profile-menu">
                                    <a href="#" onclick="showSection('profile')"><i class="fas fa-user"></i> My Profile</a>
                                    <a href="#" onclick="showCustomerCare()"><i class="fas fa-headset"></i> Customer Care</a>
                                    <a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Main Content -->
            <main class="mentor-main">
                <!-- Quick Stats Bar -->
                <div class="stats-bar">
                    <div class="stat-item">
                        <i class="fas fa-user-clock"></i>
                        <div>
                            <span id="totalRequests">0</span>
                            <label>Connection Requests</label>
                        </div>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-calendar-check"></i>
                        <div>
                            <span id="upcomingSessions">0</span>
                            <label>Future Calls</label>
                        </div>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-rupee-sign"></i>
                        <div>
                            <span id="totalEarnings">â‚¹0</span>
                            <label>Total Earnings</label>
                        </div>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-trophy"></i>
                        <div>
                            <span id="completedSessions">0</span>
                            <label>Completed Sessions</label>
                        </div>
                    </div>
                </div>

                <!-- Navigation Tabs -->
                <div class="nav-tabs">
                    <button class="tab-btn active" data-tab="requests" onclick="showSection('requests')">
                        Connection Requests
                    </button>
                    <button class="tab-btn" data-tab="sessions" onclick="showSection('sessions')">
                        My Sessions
                    </button>
                    <button class="tab-btn" data-tab="earnings" onclick="showSection('earnings')">
                        Earnings
                    </button>
                    <button class="tab-btn" data-tab="profile" onclick="showSection('profile')">
                        My Profile
                    </button>
                </div>

                <!-- Connection Requests Section -->
                <section id="requestsSection" class="dashboard-section">
                    <div class="section-header">
                        <h2><i class="fas fa-user-plus"></i> Mentees Who Want to Connect</h2>
                        <p>Review connection requests and choose who you'd like to mentor</p>
                    </div>

                    <!-- Total Requests Display -->
                    <!-- <div class="requests-summary">
                        <span>Total Requests: <strong id="totalRequests">0</strong></span>
                    </div> -->

                    <!-- Requests List -->
                    <div id="requestsList" class="requests-grid">
                        <div class="loading-requests">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Loading connection requests...</p>
                        </div>
                    </div>
                </section>

                <!-- Sessions Section -->
                <section id="sessionsSection" class="dashboard-section" style="display: none;">
                    <div class="section-header">
                        <h2><i class="fas fa-calendar-alt"></i> My Teaching Sessions</h2>
                        <p>Track your scheduled and completed mentoring sessions</p>
                    </div>
                    
                    <div class="sessions-summary">
                        <div class="summary-card">
                            <div class="summary-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="summary-content">
                                <h3 id="futureCalls">0</h3>
                                <p>Future Calls Planned</p>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon">
                                <i class="fas fa-video"></i>
                            </div>
                            <div class="summary-content">
                                <h3 id="todaySessions">0</h3>
                                <p>Sessions Today</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Tabs -->
                    <div class="sessions-tabs">
                        <button class="sessions-tab-btn active" data-status="upcoming" onclick="switchSessionTab('upcoming')">
                            <i class="fas fa-clock"></i>
                            <span>Upcoming</span>
                        </button>
                        <button class="sessions-tab-btn" data-status="completed" onclick="switchSessionTab('completed')">
                            <i class="fas fa-check-circle"></i>
                            <span>Completed</span>
                        </button>
                    </div>
                    
                    <div id="sessionsList" class="sessions-list">
                        <div class="loading-sessions">
                            <div class="spinner"></div>
                            <p>Loading your teaching sessions...</p>
                        </div>
                    </div>
                </section>


                <!-- Earnings Section -->
                <section id="earningsSection" class="dashboard-section" style="display: none;">
                    <div class="section-header">
                        <h2><i class="fas fa-chart-line"></i> My Earnings</h2>
                        <p>Track your mentoring income and balance</p>
                    </div>
                    
                    <div class="earnings-summary">
                        <div class="earnings-card primary">
                            <div class="earning-icon">
                                <i class="fas fa-wallet"></i>
                            </div>
                            <div class="earning-details">
                                <h3 id="totalEarningsDetailed">â‚¹0</h3>
                                <p>Total Balance to Receive</p>
                                <small>After 10% platform commission</small>
                            </div>
                        </div>
                        
                        <div class="earnings-card">
                            <div class="earning-icon">
                                <i class="fas fa-hourglass-half"></i>
                            </div>
                            <div class="earning-details">
                                <h3 id="pendingEarnings">â‚¹0</h3>
                                <p>Pending from Future Calls</p>
                            </div>
                        </div>
                        
                        <div class="earnings-card">
                            <div class="earning-icon">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <div class="earning-details">
                                <h3 id="currentMonthEarnings">0</h3>
                                <p>Current Month Earnings</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="payment-info-card">
                        <div class="payment-header">
                            <i class="fas fa-university"></i>
                            <h3>Payment Information</h3>
                        </div>
                        <div class="payment-details">
                            <div class="payment-item">
                                <label>Your UPI ID:</label>
                                <div class="upi-info">
                                    <code id="mentorUpiId">Loading...</code>
                                    <button onclick="copyMentorUpi()" class="copy-btn" title="Copy UPI ID">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="payment-item">
                                <label>Commission Structure:</label>
                                <span class="commission-info">Platform takes <span class="commission-percentage">10%</span> â€¢ You receive <span class="mentor-percentage">90%</span></span>
                            </div>
                            <div class="payment-item">
                                <label>Payment Timeline:</label>
                                <span>Earnings transferred within 24 hours after session completion</span>
                            </div>
                        </div>
                        
                        <div class="payment-process">
                            <h4><i class="fas fa-info-circle"></i> How Payment Works</h4>
                            <div class="process-steps">
                                <div class="step">
                                    <span class="step-number">1</span>
                                    <p>Mentee pays full amount to platform</p>
                                </div>
                                <div class="step">
                                    <span class="step-number">2</span>
                                    <p>Session completed successfully</p>
                                </div>
                                <div class="step">
                                    <span class="step-number">3</span>
                                    <p><span class="mentor-percentage">90%</span> transferred to your UPI within 24 hours</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Profile Section -->
                <section id="profileSection" class="dashboard-section" style="display: none;">
                    <div class="section-header">
                        <h2><i class="fas fa-user-circle"></i> My Mentor Profile</h2>
                        <p>Manage your professional profile and teaching credentials</p>
                    </div>
                    
                    <div class="profile-content">
                        <div class="profile-card">
                            <div class="profile-picture-section">
                                <img id="profilePicLarge" src="../uploads/default.jpg" alt="Profile Picture">
                                <div class="profile-upload">
                                    <input type="file" id="profilePicUpload" accept="image/*" hidden>
                                    <button onclick="document.getElementById('profilePicUpload').click()" class="btn btn-upload">
                                        <i class="fas fa-camera"></i> Update Photo
                                    </button>
                                </div>
                            </div>
                            
                            <div id="profileDetails" class="profile-details">
                                <div class="profile-edit-controls">
                                    <button id="editProfileBtn" class="btn btn-primary" onclick="toggleProfileEdit()">
                                        <i class="fas fa-edit"></i> Edit Profile
                                    </button>
                                    <button id="saveProfileBtn" class="btn btn-success" style="display: none;" onclick="saveProfile()">
                                        <i class="fas fa-save"></i> Save Changes
                                    </button>
                                    <button id="cancelProfileBtn" class="btn btn-secondary" style="display: none;" onclick="cancelProfileEdit()">
                                        <i class="fas fa-times"></i> Cancel
                                    </button>
                                </div>
                                
                                <div class="profile-info-grid">
                                    <!-- Name - Editable -->
                                    <div class="profile-field">
                                        <label><i class="fas fa-user"></i> Full Name</label>
                                        <span id="nameDisplay" class="field-value read-only"></span>
                                        <!-- <input type="text" id="nameEdit" class="field-edit" style="display: none;"> -->
                                    </div>
                                    
                                    <!-- Email - Read-only -->
                                    <div class="profile-field">
                                        <label><i class="fas fa-envelope"></i> Email</label>
                                        <span id="emailDisplay" class="field-value read-only"></span>
                                    </div>
                                    
                                    <!-- Phone - Editable -->
                                    <div class="profile-field">
                                        <label><i class="fas fa-phone"></i> Phone</label>
                                        <span id="phoneDisplay" class="field-value"></span>
                                        <input type="tel" id="phoneEdit" class="field-edit" style="display: none;">
                                    </div>
                                    
                                    <!-- Education - Read-only -->
                                    <div class="profile-field">
                                        <label><i class="fas fa-graduation-cap"></i> Education</label>
                                        <span id="educationDisplay" class="field-value read-only"></span>
                                    </div>
                                    
                                    <!-- Institution - Read-only -->
                                    <div class="profile-field">
                                        <label><i class="fas fa-university"></i> Institution</label>
                                        <span id="institutionDisplay" class="field-value read-only"></span>
                                    </div>
                                    
                                    <!-- Specialization - Editable -->
                                    <div class="profile-field">
                                        <label><i class="fas fa-briefcase"></i> Specialization</label>
                                        <span id="specializationDisplay" class="field-value"></span>
                                        <input type="text" id="specializationEdit" class="field-edit" style="display: none;">
                                    </div>

                                    <!-- current pursuit - Editable -->
                                    <div class="profile-field">
                                        <label><i class="fas fa-briefcase"></i> Current Pursuit</label>
                                        <span id="currentPursuitDisplay" class="field-value"></span>
                                        <input type="text" id="currentPursuitEdit" class="field-edit" style="display: none;">
                                    </div>
                                    
                                    <!-- Experience - Editable -->
                                    <div class="profile-field">
                                        <label><i class="fas fa-clock"></i> UPI Id</label>
                                        <span id="upiIdDisplay" class="field-value"></span>
                                        <input type="text" id="upiIdEdit" class="field-edit" style="display: none;">
                                    </div>
                                    
                                    <!-- Bio - Editable -->
                                    <div class="profile-field full-width">
                                        <label><i class="fas fa-info-circle"></i> Bio</label>
                                        <span id="bioDisplay" class="field-value"></span>
                                        <textarea id="bioEdit" class="field-edit" rows="4" style="display: none;"></textarea>
                                    </div>

                                    <!-- Hourly Rate - Editable -->
                                    <div class="profile-field">
                                        <label><i class="fas fa-rupee-sign"></i> Hourly Rate</label>
                                        <span id="hourlyRateDisplay" class="field-value"></span>
                                        <input type="number" id="hourlyRateEdit" class="field-edit" style="display: none;" placeholder="Enter hourly rate">
                                    </div>

                                    <!-- Languages - Editable -->
                                    <div class="profile-field">
                                        <label><i class="fas fa-language"></i> Languages</label>
                                        <span id="languagesDisplay" class="field-value"></span>
                                        <input type="text" id="languagesEdit" class="field-edit" style="display: none;" placeholder="e.g., English, Hindi, Spanish">
                                    </div>

                                    <!-- Teaching Subjects - Editable -->
                                    <div class="profile-field full-width">
                                        <label><i class="fas fa-book"></i> Teaching Subjects</label>
                                        <span id="subjectsDisplay" class="field-value"></span>
                                        <input type="text" id="subjectsEdit" class="field-edit" style="display: none;" placeholder="e.g., Mathematics, Physics, Chemistry">
                                    </div>

                                    <!-- Available Hours - Editable -->
                                    <div class="profile-field full-width">
                                        <label><i class="fas fa-clock"></i> Available Hours</label>
                                        <span id="availableHoursDisplay" class="field-value"></span>
                                        <input type="text" id="availableHoursEdit" class="field-edit" style="display: none;" placeholder="e.g., Monday 9AM-5PM, Tuesday 2PM-8PM">
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
            
            <!-- Accept Request Modal -->
            <div id="acceptModal" class="modal" style="display: none;">
                <div class="modal-overlay" onclick="closeModal()"></div>
                <div class="modal-content accept-modal">
                    <div class="modal-header">
                        <h3><i class="fas fa-calendar-plus"></i> Schedule Mentoring Session</h3>
                        <button onclick="closeModal()" class="close-btn"><i class="fas fa-times"></i></button>
                    </div>
                    
                    <div class="mentee-preview" id="selectedMenteePreview">
                        <!-- Mentee details will be populated here -->
                    </div>
                    
                    <form id="acceptForm">
                        <div class="form-group">
                            <label for="meetingTime"><i class="fas fa-clock"></i> Meeting Date & Time</label>
                            <input type="datetime-local" id="meetingTime" required>
                            <small>Select a convenient time for both you and your mentee</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="meetingLink"><i class="fas fa-video"></i> Meeting Link</label>
                            <input type="url" id="meetingLink" placeholder="https://meet.google.com/..." required>
                            <small>Google Meet, Zoom, or any video conferencing link</small>
                        </div>
                        
                        <div class="session-note">
                            <i class="fas fa-info-circle"></i>
                            <p><strong>Note:</strong> Once you accept, the mentee will be notified and must pay before the session starts. You'll receive <span class="mentor-percentage">90%</span> of the session fee after completion.</p>
                        </div>
                        
                        <div class="modal-actions">
                            <button type="submit" class="btn btn-accept">
                                <i class="fas fa-check-circle"></i> Accept & Schedule
                            </button>
                            <button type="button" onclick="closeModal()" class="btn btn-cancel">
                                Cancel
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            
            <!-- Customer Care Modal -->
            <div id="customerCareModal" class="modal" style="display: none;">
                <div class="modal-overlay" onclick="closeCustomerCare()"></div>
                <div class="modal-content">
                    <div class="modal-header">
                        <h3><i class="fas fa-headset"></i> Customer Care</h3>
                        <button onclick="closeCustomerCare()" class="close-btn"><i class="fas fa-times"></i></button>
                    </div>
                    <div class="customer-care-content">
                        <div class="contact-option">
                            <i class="fas fa-envelope"></i>
                            <div>
                                <h4>Email Support</h4>
                                <p>mentorsupport@platform.com</p>
                            </div>
                        </div>
                        <div class="contact-option">
                            <i class="fas fa-phone"></i>
                            <div>
                                <h4>Phone Support</h4>
                                <p>+91-1800-123-4567 (Mon-Fri, 9 AM - 6 PM)</p>
                            </div>
                        </div>
                        <div class="contact-option">
                            <i class="fas fa-comments"></i>
                            <div>
                                <h4>Live Chat</h4>
                                <p>Available 24/7 for mentor support</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Notification Modal -->
        <div id="notificationModal" class="notif-modal">
            <div class="notif-modal-overlay" onclick="closeNotificationModal()"></div>
            <div class="notif-modal-content">
                <!-- Modal Header -->
                <div class="notif-modal-header">
                    <h2><i class="fas fa-bell"></i> Notifications</h2>
                    <div class="notif-modal-actions">
                        <button class="notif-mark-all-btn" onclick="markAllAsRead()" title="Mark all as read">
                            <i class="fas fa-check-double"></i> Mark all read
                        </button>
                        <button class="notif-close-btn" onclick="closeNotificationModal()" title="Close">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Modal Body - Notification List -->
                <div class="notif-modal-body">
                    <div class="notif-list" id="notificationList">
                        <!-- Notifications will be loaded here dynamically -->
                        <div class="notif-loading">
                            <i class="fas fa-spinner fa-spin"></i> Loading notifications...
                        </div>
                    </div>
                </div>
                
                <!-- Modal Footer -->
                <div class="notif-modal-footer">
                    <button class="notif-btn-secondary" onclick="closeNotificationModal()">Close</button>
                </div>
            </div>
        </div>

        <!-- Accept Request Modal -->
        <div id="acceptModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>Accept Request</h3>
                <form id="acceptForm">
                    <div class="form-group">
                        <label for="meetingTime">Meeting Date & Time</label>
                        <input type="datetime-local" id="meetingTime" required>
                    </div>
                    <div class="form-group">
                        <label for="meetingLink">Meeting Link</label>
                        <input type="url" id="meetingLink" placeholder="https://meet.google.com/..." required>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-accept">Schedule Session</button>
                        <button type="button" onclick="closeModal()" class="btn btn-reject">Cancel</button>
                    </div>
                </form>
            </div>
        </div>

        <div id="errorMessage" class="error-message" style="display: none;"></div>
        <div id="successMessage" class="success-message" style="display: none;"></div>


        <!-- Security Script -->
        <script src="/components/mentor/dashboard/mentor-dashboard-security.js"></script>
        <script src="/components/mentor/dashboard/mentor-dashboard.js"></script>
        <!-- Socket.IO client -->
        <script src="/socket.io/socket.io.js"></script>
    </body>
    </html>
